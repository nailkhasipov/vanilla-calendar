!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n){e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[t].concat(a).concat([i]).join("\n")}var o;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),n.push(o))}},n}},function(e,n,t){"use strict";function r(e){const n=[[]],t=new Date(e),r=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0),a=r.getDay(),o=i.getDate();for(var s=1;s<a;s++)n[0].push("");for(let e=1;e<=o;e++){let t=n[n.length-1],r=String(e);7==t.length?n.push([r]):t.push(r)}return n}function i(e){const n=function(e){var n=new Date(e),t=""+(n.getMonth()+1),r=""+n.getDate(),i=n.getFullYear();t.length<2&&(t="0"+t);r.length<2&&(r="0"+r);return[i,t,r].join("-")}(e);return`\n    <form onsubmit="calendar.newEvent(); return false;" class="event-form">\n      <h2 class="event-form__title">New Event</h2>\n      <label class="event-form__label">Event name</label>\n      <input id="event_name" class="event-form__name" type="text" placeholder="New event"/>\n\n      <label class="event-form__label">Starts</label>\n      <input id="event_start_date" class="event-form__date" type="date" value="${n}" />\n      <input id="event_start_time" class="event-form__time" type="time" value="12:00" />\n\n      <label class="event-form__label">Ends</label>\n      <input id="event_end_date" class="event-form__date" type="date" value="${n}" />\n      <input id="event_end_time" class="event-form__time" type="time" value="12:30" />\n\n      <label class="event-form__label">Comment</label>\n      <textarea id="event_comment" class="event-form__comment"></textarea>\n\n      <input class="event-form__submit" type="submit" value="Create"/>\n    </form>\n  `}function a(){let e=document.createElement("UL");e.className="labels";for(let n=0;n<24;n++){let t=document.createElement("LI");t.innerText=`${String(n).padStart(2,"0")}:00`,e.appendChild(t)}return e.outerHTML}function o(e,n){const t=new Date(e),r=t.setHours(0,0,0,0),i=t.setHours(23,59,59,999),o=n.filter(e=>e.start>r&&e.start<i);return`<div class="views view-day" id="view-day">\n      ${a()}\n      <div class="day-grid">\n        ${'<div class="hour"></div>'.repeat(24)}\n        <div class="day-events">\n          ${o.map(e=>(function(e){const n=document.createElement("DIV");n.className="event",n.innerText=e.name;const t=new Date(e.start),r=new Date(e.end),i=.6*(60*t.getHours()+t.getMinutes()),a=.6*(60*r.getHours()+r.getMinutes())-i;return n.style.top=`${i}px`,n.style.height=`${a}px`,n.outerHTML})(e))}\n        </div>\n      </div>\n    </div>`}function s(e){const n=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],t=document.createElement("DIV");t.className="days";const r=function(e){const n=(e=new Date(e)).getDay(),t=e.getDate()-n+(0==n?-6:1);return new Date(e.setDate(t)).getDate()}(e);let i=0;for(let e=r;e<r+7;e++){const r=document.createElement("DIV");r.className="day-grid",r.innerHTML=`<h3 class="day-label">${n[i]} ${e}</h3>${'<div class="hour"></div>'.repeat(24)}`,t.appendChild(r),i++}return`<div class="views view-week" id="view-week">\n      ${a()}\n      ${t.outerHTML}\n    </div>`}function l(e){return`<div class="views view-month" id="view-month">\n      ${function(e){const n=r(e),t=document.createElement("table");t.className="month-table";for(var i=0;i<n.length;i++)for(var a=t.insertRow(i),o=0;o<n[i].length;o++){const e=a.insertCell(-1),t=document.createElement("P");t.innerText=n[i][o],e.appendChild(t)}return t.outerHTML}(e)}\n    </div>`}t.r(n);var d=class{constructor(e){this.root=e,this.view="day",this.date=Date.now(),this.events=JSON.parse(localStorage.getItem("events"))||[],e.innerHTML=this.render()}changeView(e){this.view=e,this.root.innerHTML=this.render()}newEvent(){const e={name:document.querySelector("#event_name").value,start:c(document.querySelector("#event_start_date").value,document.querySelector("#event_start_time").value),end:c(document.querySelector("#event_end_date").value,document.querySelector("#event_end_time").value)};this.events.push(e),localStorage.setItem("events",JSON.stringify(this.events))}prev(){this.date-=864e5,this.root.innerHTML=this.render()}next(){this.date+=864e5,this.root.innerHTML=this.render()}render(){let e;switch(this.view){case"day":e=o(this.date,this.events);break;case"week":e=s(this.date);break;case"month":e=l(this.date)}return`<div class="calendar">\n        <div class="top">\n        <div class="navigation">\n          <button>TODAY</button>\n          <button onclick="calendar.prev()"><</button>\n          <button onclick="calendar.next()">></button>\n        </div>\n        <h2 class="date-info">${n=this.date,new Date(n).toLocaleDateString("en-EN",{year:"numeric",month:"long"})}</h2>\n        <div class="view-change">\n          <button onclick="calendar.changeView('day')">DAY</button>\n          <button onclick="calendar.changeView('week')">WEEK</button>\n          <button onclick="calendar.changeView('month')">MONTH</button>\n        </div>\n        </div>\n        <div class="main">\n          <div class="sidebar">\n            <div class="sidebar-month" id="sidebar-month">\n              ${function(e){const n=String(new Date(e).getDate()),t=r(e),i=document.createElement("table");for(var a=0;a<t.length;a++)for(var o=i.insertRow(a),s=0;s<t[a].length;s++){var l=o.insertCell(-1);l.innerHTML=t[a][s],l.setAttribute("align","center"),t[a][s]===n&&(l.className="today")}return i.outerHTML}(this.date)}\n            </div>\n            ${i(this.date)}\n          </div>\n          <div class="view">\n            ${e}\n          </div>\n        </div>\n      </div>`;var n}};function c(e,n){const[t,r,i]=e.split("-"),[a,o]=n.split(":");return new Date(t,r-1,i,a,o).getTime()}t(7);window.Calendar=d},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,r=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var i,a=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,n,t){var r,i,a={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var n={};return function(e){if("function"==typeof e)return e();if(void 0===n[e]){var t=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}}(),l=null,d=0,c=[],u=t(2);function f(e,n){for(var t=0;t<e.length;t++){var r=e[t],i=a[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(g(r.parts[o],n))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(g(r.parts[o],n));a[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,n){for(var t=[],r={},i=0;i<e.length;i++){var a=e[i],o=n.base?a[0]+n.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):t.push(r[o]={id:o,parts:[s]})}return t}function h(e,n){var t=s(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),c.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);t.insertBefore(n,i)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=c.indexOf(e);n>=0&&c.splice(n,1)}function m(e){var n=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),b(n,e.attrs),h(e,n),n}function b(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function g(e,n){var t,r,i,a;if(n.transform&&e.css){if(!(a=n.transform(e.css)))return function(){};e.css=a}if(n.singleton){var o=d++;t=l||(l=m(n)),r=x.bind(null,t,o,!1),i=x.bind(null,t,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(n,e.attrs),h(e,n),n}(n),r=function(e,n,t){var r=t.css,i=t.sourceMap,a=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||a)&&(r=u(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,t,n),i=function(){v(t),t.href&&URL.revokeObjectURL(t.href)}):(t=m(n),r=function(e,n){var t=n.css,r=n.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),i=function(){v(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else i()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=o()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=p(e,n);return f(t,n),function(e){for(var r=[],i=0;i<t.length;i++){var o=t[i];(s=a[o.id]).refs--,r.push(s)}e&&f(p(e,n),n);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var w,y=(w=[],function(e,n){return w[e]=n,w.filter(Boolean).join("\n")});function x(e,n,t,r){var i=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(n,i);else{var a=document.createTextNode(i),o=e.childNodes;o[n]&&e.removeChild(o[n]),o.length?e.insertBefore(a,o[n]):e.appendChild(a)}}},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".day-grid .hour {\n  height: 40px;\n  border-top: 1px solid #e2e2e2;\n}\n\n.view-day {\n  padding-left: 40px;\n  padding-top: 10px;\n}\n\n.calendar .main .view-day .day-grid {\n  position: relative;\n  width: 100%;\n}\n\n.day-events {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.event {\n  position: absolute;\n  width: 100%;\n  height: 50px;\n  background: #91a7ff;\n  color: white;;\n}",""])},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".event-form__title {\n  font-weight: 300;\n}\n\n.event-form__label {\n  display: block;\n  margin: .25em 0;\n}\n\n.event-form__name, .event-form__date, .event-form__time, .event-form__comment {\n  padding: .5em .6em;\n  border: 1px solid #ccc;\n  box-shadow: inset 0 1px 3px #ddd;\n  border-radius: 4px;\n  vertical-align: middle;\n  margin: .25em 0;\n}\n\n.event-form__name, .event-form__comment {\n  display: block;\n  width: 100%;\n}\n\n.event-form__comment {\n  resize: none;\n}\n\n.event-form__submit {\n  float: right;\n  margin-top: 10px;\n}",""])},function(e,n,t){(n=e.exports=t(0)(!1)).i(t(5),""),n.i(t(4),""),n.push([e.i,"* {\n  box-sizing: border-box;\n}\n\nhtml, body {\n  width: 100%;\n  height: 100%;\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 0;\n  padding: 0;\n  color: #2e2e2e;\n}\n\n#calendar {\n  height: 100%;\n}\n\n.calendar {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.calendar .top {\n  height: 40px;\n  width: 100%;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 0 15px;\n}\n\n.calendar .top .navigation, .calendar .top .view-change {\n  display: flex;\n  align-items: center;\n}\n\n.calendar .main {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n}\n\n.calendar .main .sidebar {\n  width: 300px;\n  border-right: 1px solid #eee;\n}\n\n.calendar .sidebar {\n  padding: 15px;\n}\n\n.calendar .sidebar #sidebar-month table {\n  margin-top: 30px;\n  width: 100%;\n}\n\n.calendar .sidebar #sidebar-month table tr {\n  height: 30px;\n}\n\n.calendar .main .view {\n  flex: 1;\n  display: flex;\n  overflow: scroll;\n}\n\n.calendar .main .views {\n  flex: 1;\n  position: relative;\n}\n\n.labels {\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  left: 0;\n  font-size: 13px;\n  color: #ccc;\n}\n\n.labels li {\n  list-style: none;\n  height: 40px;\n}\n\n.calendar .main .view-week {\n  padding-left: 40px;\n  padding-top: 10px;\n  display: flex;\n}\n\n.view-week .labels {\n  top: 60px;\n}\n\n.calendar .main .view-month {\n  /* display: none; */\n}\n\n.view-month table {\n  width: 100%;\n  height: 100%;\n  border-collapse: collapse;\n}\n\n.view-month th, .view-month td {\n  border: 1px solid #e2e2e2;\n}\n\n.calendar .main .view-week .days {\n  display: flex;\n  flex: 1;\n}\n\n.calendar .main .view-week .day-grid {\n  width: 14.285713%;\n}\n\n.calendar .main .view-week .day-grid .hour {\n  border-right: 1px solid #e2e2e2;\n}\n\n.calendar .main .view-week .day-grid:last-child .hour {\n  border-right: none;\n}\n\n.day-label {\n  font-weight: 300;\n  color: #222;\n  margin: 0;\n  height: 60px;\n}\n\n.month-table td {\n  vertical-align: top;\n}\n\n.sidebar-month td.today {\n  color: white;\n  background: #333;\n  border-radius: 50%;\n}\n\n.sidebar-month td {\n  width: 36px;\n  height: 36px;\n}\n\n.month-table p {\n  text-align: right;\n  margin: 0;\n}\n\n.date-info {\n  margin: 0;\n  font-weight: 300;\n  line-height: 40px;\n}\n\n.new-event-form {\n  margin-top: 30px;\n}\n\n.form-field {\n  width: 100%;\n}",""])},function(e,n,t){var r=t(6);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(3)(r,i);r.locals&&(e.exports=r.locals)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9FdmVudEZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0hvdXJMYWJlbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0RheS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvV2Vlay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvTW9udGguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbGVuZGFyLmpzIiwid2VicGFjazovLy8uL3NyYy9Nb250aFRhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGF5LmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvRXZlbnRGb3JtLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3M/NzUyOCJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImlkIiwicHVzaCIsImdldE1vbnRoQXJyYXkiLCJ0aW1lc3RhbXAiLCJtb250aCIsImRhdGUiLCJEYXRlIiwiZmlyc3REYXkiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwibGFzdERheSIsInN0YXJ0IiwiZ2V0RGF5IiwiZW5kIiwiZ2V0RGF0ZSIsImN1cnJlbnRXZWVrIiwiZGF5IiwiU3RyaW5nIiwiRXZlbnRGb3JtX01vbnRoVGFibGUiLCJ5ZWFyIiwiZm9ybWF0RGF0ZSIsIkhvdXJMYWJlbHMiLCJsYWJlbHNMaXN0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwibGFiZWwiLCJpbm5lclRleHQiLCJwYWRTdGFydCIsImFwcGVuZENoaWxkIiwib3V0ZXJIVE1MIiwiRGF5IiwiZXZlbnRzIiwic3RhcnRPZlRoZURheSIsInNldEhvdXJzIiwiZW5kT2ZUaGVEYXkiLCJkYXlFdmVudHMiLCJmaWx0ZXIiLCJldmVudCIsInJlcGVhdCIsInByb3BzIiwiZXZlbnRFbGVtZW50IiwidG9wUG9zaXRpb24iLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJoZWlnaHQiLCJzdHlsZSIsInRvcCIsIkV2ZW50IiwiV2VlayIsImRheXNPZldlZWsiLCJ3ZWVrIiwibW9uZGF5RGF0ZSIsImRpZmYiLCJzZXREYXRlIiwiZ2V0TW9uZGF5RGF0ZSIsIndlZWtEYXkiLCJpbm5lckhUTUwiLCJNb250aCIsInRhYmxlIiwidyIsInJvdyIsImluc2VydFJvdyIsImNlbGwiLCJpbnNlcnRDZWxsIiwiTW9udGhfTW9udGhUYWJsZSIsInNyY19DYWxlbmRhciIsIltvYmplY3QgT2JqZWN0XSIsInJvb3QiLCJ2aWV3Iiwibm93IiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVuZGVyIiwicXVlcnlTZWxlY3RvciIsInRvRGF0ZSIsInNldEl0ZW0iLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ0b2RheSIsInNldEF0dHJpYnV0ZSIsIk1vbnRoVGFibGUiLCJkYXRlU3RyIiwidGltZVN0ciIsInNwbGl0IiwiaG91ciIsIm1pbnV0ZSIsImdldFRpbWUiLCJ3aW5kb3ciLCJDYWxlbmRhciIsImNzcyIsImxvY2F0aW9uIiwiRXJyb3IiLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0IiwiaW5kZXhPZiIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImFsbCIsImF0b2IiLCJhcHBseSIsImFyZ3VtZW50cyIsImdldEVsZW1lbnQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJpbnNlcnRJbnRvIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsInVuZGVmaW5lZCIsImF0dHJzIiwidHlwZSIsImFkZEF0dHJzIiwiZWwiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsInRyYW5zZm9ybSIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYmluZCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsImhtciIsImxvY2FscyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxF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QUNBRCxLQUVBLFNBQUFFLEVBQUFDLEdBR0EsT0FGQUgsRUFBQUUsR0FBQUMsRUFFQUgsRUFBQXZKLE9BQUEySixTQUFBck0sS0FBQSxRQUlBLFNBQUE0SyxFQUFBekgsRUFBQWdKLEVBQUEzQixFQUFBRixHQUNBLElBQUF2RSxFQUFBeUUsRUFBQSxHQUFBRixFQUFBdkUsSUFFQSxHQUFBNUMsRUFBQXVJLFdBQ0F2SSxFQUFBdUksV0FBQUMsUUFBQU8sRUFBQUMsRUFBQXBHLE9BQ0UsQ0FDRixJQUFBdUcsRUFBQTFLLFNBQUFnSyxlQUFBN0YsR0FDQXdHLEVBQUFwSixFQUFBb0osV0FFQUEsRUFBQUosSUFBQWhKLEVBQUF1RyxZQUFBNkMsRUFBQUosSUFFQUksRUFBQW5NLE9BQ0ErQyxFQUFBa0csYUFBQWlELEVBQUFDLEVBQUFKLElBRUFoSixFQUFBakIsWUFBQW9LLHVCQ3ZVQXBQLEVBQUFELFFBQUFGLEVBQUEsRUFBQUEsRUFBQSxJQUtBdUQsTUFBQXBELEVBQUFDLEVBQUEsb2FBQTJiLHVCQ0wzYkQsRUFBQUQsUUFBQUYsRUFBQSxFQUFBQSxFQUFBLElBS0F1RCxNQUFBcEQsRUFBQUMsRUFBQSx1aUJBQThqQix1QkNMOWpCRixFQUFBQyxFQUFBRCxRQUFBRixFQUFBLEVBQUFBLEVBQUEsSUFFQUksRUFBQUosRUFBQSxPQUNBRSxFQUFBRSxFQUFBSixFQUFBLE9BR0FFLEVBQUFxRCxNQUFBcEQsRUFBQUMsRUFBQSx1NEVBQTg1RSxzQkNMOTVFLElBQUErQixFQUFBbkMsRUFBQSxHQUVBLGlCQUFBbUMsUUFBQWhDLEVBQUFDLEVBQUErQixFQUFBLE1BT0EsSUFBQW1KLEdBQWVtRSxLQUFBLEVBRWY5QixlQVBBQSxFQVFBekIsZ0JBQUFhLEdBRUEvTSxFQUFBLEVBQUFBLENBQUFtQyxFQUFBbUosR0FFQW5KLEVBQUF1TixTQUFBdlAsRUFBQUQsUUFBQWlDLEVBQUF1TiIsImZpbGUiOiJjYWxlbmRhci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCJmdW5jdGlvbiBnZXRNb250aEFycmF5KHRpbWVzdGFtcCkge1xuICBjb25zdCBtb250aCA9IFtbXV07XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApO1xuICBjb25zdCBmaXJzdERheSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCAxKTtcbiAgY29uc3QgbGFzdERheSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCk7XG4gIGNvbnN0IHN0YXJ0ID0gZmlyc3REYXkuZ2V0RGF5KCk7XG4gIGNvbnN0IGVuZCA9IGxhc3REYXkuZ2V0RGF0ZSgpO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgc3RhcnQ7IGkrKykge1xuICAgIG1vbnRoWzBdLnB1c2goJycpO1xuICB9XG4gIFxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBlbmQ7IGkrKykge1xuICAgIGxldCBjdXJyZW50V2VlayA9IG1vbnRoW21vbnRoLmxlbmd0aCAtIDFdO1xuICAgIGxldCBkYXkgPSBTdHJpbmcoaSk7XG4gICAgaWYgKGN1cnJlbnRXZWVrLmxlbmd0aCAgPT0gNykge1xuICAgICAgbW9udGgucHVzaChbZGF5XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRXZWVrLnB1c2goZGF5KTsgICBcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbW9udGg7XG59XG5cbmZ1bmN0aW9uIGdldERhdGVUaXRsZSh0aW1lc3RhbXApIHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7XG4gIGNvbnN0IG9wdGlvbnMgPSB7IHllYXI6ICdudW1lcmljJywgbW9udGg6ICdsb25nJyB9O1xuICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLUVOJywgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGdldE1vbmRheURhdGUoZCkge1xuICBkID0gbmV3IERhdGUoZCk7XG4gIGNvbnN0IGRheSA9IGQuZ2V0RGF5KCk7XG4gIGNvbnN0IGRpZmYgPSBkLmdldERhdGUoKSAtIGRheSArIChkYXkgPT0gMCA/IC02OjEpO1xuICByZXR1cm4gbmV3IERhdGUoZC5zZXREYXRlKGRpZmYpKS5nZXREYXRlKCk7XG59XG5cbmV4cG9ydCB7IGdldE1vbnRoQXJyYXksIGdldE1vbmRheURhdGUsIGdldERhdGVUaXRsZSB9OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vbnRoVGFibGUodGltZXN0YW1wKSB7XG4gIGNvbnN0IGRhdGUgPSBmb3JtYXREYXRlKHRpbWVzdGFtcCk7XG4gIHJldHVybiBgXG4gICAgPGZvcm0gb25zdWJtaXQ9XCJjYWxlbmRhci5uZXdFdmVudCgpOyByZXR1cm4gZmFsc2U7XCIgY2xhc3M9XCJldmVudC1mb3JtXCI+XG4gICAgICA8aDIgY2xhc3M9XCJldmVudC1mb3JtX190aXRsZVwiPk5ldyBFdmVudDwvaDI+XG4gICAgICA8bGFiZWwgY2xhc3M9XCJldmVudC1mb3JtX19sYWJlbFwiPkV2ZW50IG5hbWU8L2xhYmVsPlxuICAgICAgPGlucHV0IGlkPVwiZXZlbnRfbmFtZVwiIGNsYXNzPVwiZXZlbnQtZm9ybV9fbmFtZVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJOZXcgZXZlbnRcIi8+XG5cbiAgICAgIDxsYWJlbCBjbGFzcz1cImV2ZW50LWZvcm1fX2xhYmVsXCI+U3RhcnRzPC9sYWJlbD5cbiAgICAgIDxpbnB1dCBpZD1cImV2ZW50X3N0YXJ0X2RhdGVcIiBjbGFzcz1cImV2ZW50LWZvcm1fX2RhdGVcIiB0eXBlPVwiZGF0ZVwiIHZhbHVlPVwiJHtkYXRlfVwiIC8+XG4gICAgICA8aW5wdXQgaWQ9XCJldmVudF9zdGFydF90aW1lXCIgY2xhc3M9XCJldmVudC1mb3JtX190aW1lXCIgdHlwZT1cInRpbWVcIiB2YWx1ZT1cIjEyOjAwXCIgLz5cblxuICAgICAgPGxhYmVsIGNsYXNzPVwiZXZlbnQtZm9ybV9fbGFiZWxcIj5FbmRzPC9sYWJlbD5cbiAgICAgIDxpbnB1dCBpZD1cImV2ZW50X2VuZF9kYXRlXCIgY2xhc3M9XCJldmVudC1mb3JtX19kYXRlXCIgdHlwZT1cImRhdGVcIiB2YWx1ZT1cIiR7ZGF0ZX1cIiAvPlxuICAgICAgPGlucHV0IGlkPVwiZXZlbnRfZW5kX3RpbWVcIiBjbGFzcz1cImV2ZW50LWZvcm1fX3RpbWVcIiB0eXBlPVwidGltZVwiIHZhbHVlPVwiMTI6MzBcIiAvPlxuXG4gICAgICA8bGFiZWwgY2xhc3M9XCJldmVudC1mb3JtX19sYWJlbFwiPkNvbW1lbnQ8L2xhYmVsPlxuICAgICAgPHRleHRhcmVhIGlkPVwiZXZlbnRfY29tbWVudFwiIGNsYXNzPVwiZXZlbnQtZm9ybV9fY29tbWVudFwiPjwvdGV4dGFyZWE+XG5cbiAgICAgIDxpbnB1dCBjbGFzcz1cImV2ZW50LWZvcm1fX3N1Ym1pdFwiIHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIkNyZWF0ZVwiLz5cbiAgICA8L2Zvcm0+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xuICB2YXIgZCA9IG5ldyBEYXRlKGRhdGUpLFxuICAgIG1vbnRoID0gJycgKyAoZC5nZXRNb250aCgpICsgMSksXG4gICAgZGF5ID0gJycgKyBkLmdldERhdGUoKSxcbiAgICB5ZWFyID0gZC5nZXRGdWxsWWVhcigpO1xuXG4gIGlmIChtb250aC5sZW5ndGggPCAyKSBtb250aCA9ICcwJyArIG1vbnRoO1xuICBpZiAoZGF5Lmxlbmd0aCA8IDIpIGRheSA9ICcwJyArIGRheTtcblxuICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldLmpvaW4oJy0nKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb3VyTGFiZWxzKCkge1xuICBsZXQgbGFiZWxzTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1VMJyk7XG4gIGxhYmVsc0xpc3QuY2xhc3NOYW1lID0gJ2xhYmVscyc7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgbGV0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnTEknKTtcbiAgICBsYWJlbC5pbm5lclRleHQgPSBgJHtTdHJpbmcoaSkucGFkU3RhcnQoMiwgJzAnKX06MDBgO1xuICAgIGxhYmVsc0xpc3QuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICB9XG5cbiAgcmV0dXJuIGxhYmVsc0xpc3Qub3V0ZXJIVE1MO1xufSIsImltcG9ydCBIb3VyTGFiZWxzIGZyb20gJy4vSG91ckxhYmVscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERheSh0aW1lc3RhbXAsIGV2ZW50cykge1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTtcbiAgY29uc3Qgc3RhcnRPZlRoZURheSA9IGRhdGUuc2V0SG91cnMoMCwwLDAsMCk7XG4gIGNvbnN0IGVuZE9mVGhlRGF5ID0gZGF0ZS5zZXRIb3VycygyMyw1OSw1OSw5OTkpO1xuXG4gIGNvbnN0IGRheUV2ZW50cyA9IGV2ZW50cy5maWx0ZXIoZXZlbnQgPT4gZXZlbnQuc3RhcnQgPiBzdGFydE9mVGhlRGF5ICYmIGV2ZW50LnN0YXJ0IDwgZW5kT2ZUaGVEYXkpO1xuXG4gIHJldHVybihcbiAgICBgPGRpdiBjbGFzcz1cInZpZXdzIHZpZXctZGF5XCIgaWQ9XCJ2aWV3LWRheVwiPlxuICAgICAgJHtIb3VyTGFiZWxzKCl9XG4gICAgICA8ZGl2IGNsYXNzPVwiZGF5LWdyaWRcIj5cbiAgICAgICAgJHsnPGRpdiBjbGFzcz1cImhvdXJcIj48L2Rpdj4nLnJlcGVhdCgyNCl9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkYXktZXZlbnRzXCI+XG4gICAgICAgICAgJHtkYXlFdmVudHMubWFwKGV2ZW50ID0+IEV2ZW50KGV2ZW50KSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YFxuICApO1xufVxuXG5mdW5jdGlvbiBFdmVudChwcm9wcykge1xuICBjb25zdCBldmVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgZXZlbnRFbGVtZW50LmNsYXNzTmFtZSA9ICdldmVudCc7XG4gIGV2ZW50RWxlbWVudC5pbm5lclRleHQgPSBwcm9wcy5uYW1lO1xuXG4gIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUocHJvcHMuc3RhcnQpO1xuICBjb25zdCBlbmQgPSBuZXcgRGF0ZShwcm9wcy5lbmQpO1xuXG4gIGNvbnN0IHRvcFBvc2l0aW9uID0gKHN0YXJ0LmdldEhvdXJzKCkgKiA2MCArIHN0YXJ0LmdldE1pbnV0ZXMoKSkgKiAwLjY7XG4gIGNvbnN0IGhlaWdodCA9IChlbmQuZ2V0SG91cnMoKSAqIDYwICsgZW5kLmdldE1pbnV0ZXMoKSkgKiAwLjYgLSB0b3BQb3NpdGlvbjtcblxuICBldmVudEVsZW1lbnQuc3R5bGUudG9wID0gYCR7dG9wUG9zaXRpb259cHhgO1xuICBldmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcblxuICByZXR1cm4gZXZlbnRFbGVtZW50Lm91dGVySFRNTDtcbn0iLCJpbXBvcnQgeyBnZXRNb25kYXlEYXRlIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCBIb3VyTGFiZWxzIGZyb20gJy4vSG91ckxhYmVscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdlZWsoZGF0ZSkge1xuICBjb25zdCBkYXlzT2ZXZWVrID0gWydNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCcsICdTdW4nXTtcbiAgY29uc3Qgd2VlayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuICB3ZWVrLmNsYXNzTmFtZSA9ICdkYXlzJztcblxuICBjb25zdCBtb25kYXlEYXRlID0gZ2V0TW9uZGF5RGF0ZShkYXRlKTtcbiAgbGV0IHdlZWtEYXkgPSAwO1xuXG4gIGZvciAobGV0IGkgPSBtb25kYXlEYXRlOyBpIDwgbW9uZGF5RGF0ZSArIDc7IGkrKykge1xuICAgIGNvbnN0IGRheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuICAgIGRheS5jbGFzc05hbWUgPSAnZGF5LWdyaWQnO1xuICAgIGRheS5pbm5lckhUTUwgPSBgPGgzIGNsYXNzPVwiZGF5LWxhYmVsXCI+JHtkYXlzT2ZXZWVrW3dlZWtEYXldfSAke2l9PC9oMz4keyc8ZGl2IGNsYXNzPVwiaG91clwiPjwvZGl2PicucmVwZWF0KDI0KX1gO1xuXG4gICAgd2Vlay5hcHBlbmRDaGlsZChkYXkpO1xuXG4gICAgd2Vla0RheSsrO1xuICB9XG5cblxuICByZXR1cm4oXG4gICAgYDxkaXYgY2xhc3M9XCJ2aWV3cyB2aWV3LXdlZWtcIiBpZD1cInZpZXctd2Vla1wiPlxuICAgICAgJHtIb3VyTGFiZWxzKCl9XG4gICAgICAke3dlZWsub3V0ZXJIVE1MfVxuICAgIDwvZGl2PmBcbiAgKTtcbn0iLCJpbXBvcnQgeyBnZXRNb250aEFycmF5IH0gZnJvbSAnLi9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9udGgoZGF0ZSkge1xuICByZXR1cm4oXG4gICAgYDxkaXYgY2xhc3M9XCJ2aWV3cyB2aWV3LW1vbnRoXCIgaWQ9XCJ2aWV3LW1vbnRoXCI+XG4gICAgICAke01vbnRoVGFibGUoZGF0ZSl9XG4gICAgPC9kaXY+YFxuICApO1xufVxuXG5mdW5jdGlvbiBNb250aFRhYmxlKGRhdGUpIHtcbiAgLy9AVE9ETyB0aGluayBhYm91dCBpdFxuICBjb25zdCBtb250aCA9IGdldE1vbnRoQXJyYXkoZGF0ZSk7XG5cbiAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICB0YWJsZS5jbGFzc05hbWUgPSAnbW9udGgtdGFibGUnO1xuICBmb3IgKHZhciB3ID0gMDsgdyA8IG1vbnRoLmxlbmd0aDsgdysrKSB7XG4gICAgdmFyIHJvdyA9IHRhYmxlLmluc2VydFJvdyh3KTtcbiAgICBmb3IgKHZhciBkID0gMDsgZCA8IG1vbnRoW3ddLmxlbmd0aDsgZCsrKSB7XG4gICAgICBjb25zdCBjZWxsID0gcm93Lmluc2VydENlbGwoLTEpO1xuICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdQJyk7XG4gICAgICBsYWJlbC5pbm5lclRleHQgPSBtb250aFt3XVtkXTtcbiAgICAgIGNlbGwuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YWJsZS5vdXRlckhUTUw7XG59IiwiaW1wb3J0IHsgZ2V0RGF0ZVRpdGxlIH1mcm9tICcuL2hlbHBlcnMnO1xuXG5pbXBvcnQgTW9udGhUYWJsZSBmcm9tICcuL01vbnRoVGFibGUnO1xuaW1wb3J0IEV2ZW50Rm9ybSBmcm9tICcuL0V2ZW50Rm9ybSc7XG5pbXBvcnQgRGF5IGZyb20gJy4vRGF5JztcbmltcG9ydCBXZWVrIGZyb20gJy4vV2Vlayc7XG5pbXBvcnQgTW9udGggZnJvbSAnLi9Nb250aCc7XG5cbmNsYXNzIENhbGVuZGFyIHtcbiAgY29uc3RydWN0b3Iocm9vdCkge1xuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgdGhpcy52aWV3ID0gJ2RheSc7XG4gICAgdGhpcy5kYXRlID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLmV2ZW50cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2V2ZW50cycpKSB8fCBbXTtcblxuICAgIHJvb3QuaW5uZXJIVE1MID0gdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIGNoYW5nZVZpZXcodmlldykge1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgdGhpcy5yb290LmlubmVySFRNTCA9IHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBuZXdFdmVudCgpIHtcbiAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2V2ZW50X25hbWUnKS52YWx1ZTtcblxuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNldmVudF9zdGFydF9kYXRlJykudmFsdWU7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2V2ZW50X3N0YXJ0X3RpbWUnKS52YWx1ZTtcbiAgICBjb25zdCBzdGFydCA9IHRvRGF0ZShzdGFydERhdGUsIHN0YXJ0VGltZSk7XG5cbiAgICBjb25zdCBlbmREYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2V2ZW50X2VuZF9kYXRlJykudmFsdWU7XG4gICAgY29uc3QgZW5kVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNldmVudF9lbmRfdGltZScpLnZhbHVlO1xuICAgIGNvbnN0IGVuZCA9IHRvRGF0ZShlbmREYXRlLCBlbmRUaW1lKTtcblxuICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgIGVuZDogZW5kXG4gICAgfTtcblxuICAgIHRoaXMuZXZlbnRzLnB1c2goZXZlbnQpO1xuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2V2ZW50cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuZXZlbnRzKSk7XG4gIH1cblxuICBwcmV2KCkge1xuICAgIHRoaXMuZGF0ZSAtPSA4NjQwMDAwMDtcbiAgICB0aGlzLnJvb3QuaW5uZXJIVE1MID0gdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIG5leHQoKSB7XG4gICAgdGhpcy5kYXRlICs9IDg2NDAwMDAwO1xuICAgIHRoaXMucm9vdC5pbm5lckhUTUwgPSB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB2aWV3O1xuXG4gICAgc3dpdGNoICh0aGlzLnZpZXcpIHtcbiAgICBjYXNlICdkYXknOlxuICAgICAgdmlldyA9IERheSh0aGlzLmRhdGUsIHRoaXMuZXZlbnRzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgdmlldyA9IFdlZWsodGhpcy5kYXRlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgIHZpZXcgPSBNb250aCh0aGlzLmRhdGUpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIGA8ZGl2IGNsYXNzPVwiY2FsZW5kYXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRvcFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmF2aWdhdGlvblwiPlxuICAgICAgICAgIDxidXR0b24+VE9EQVk8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJjYWxlbmRhci5wcmV2KClcIj48PC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPVwiY2FsZW5kYXIubmV4dCgpXCI+PjwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGgyIGNsYXNzPVwiZGF0ZS1pbmZvXCI+JHtnZXREYXRlVGl0bGUodGhpcy5kYXRlKX08L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidmlldy1jaGFuZ2VcIj5cbiAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJjYWxlbmRhci5jaGFuZ2VWaWV3KCdkYXknKVwiPkRBWTwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gb25jbGljaz1cImNhbGVuZGFyLmNoYW5nZVZpZXcoJ3dlZWsnKVwiPldFRUs8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJjYWxlbmRhci5jaGFuZ2VWaWV3KCdtb250aCcpXCI+TU9OVEg8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWFpblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaWRlYmFyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2lkZWJhci1tb250aFwiIGlkPVwic2lkZWJhci1tb250aFwiPlxuICAgICAgICAgICAgICAke01vbnRoVGFibGUodGhpcy5kYXRlKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgJHtFdmVudEZvcm0odGhpcy5kYXRlKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidmlld1wiPlxuICAgICAgICAgICAgJHt2aWV3fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PmBcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbGVuZGFyO1xuXG5mdW5jdGlvbiB0b0RhdGUoZGF0ZVN0ciwgdGltZVN0cikge1xuICBjb25zdCBbeWVhciwgbW9udGgsIGRheV0gPSBkYXRlU3RyLnNwbGl0KCctJyk7XG4gIGNvbnN0IFtob3VyLCBtaW51dGVdID0gdGltZVN0ci5zcGxpdCgnOicpO1xuICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXksIGhvdXIsIG1pbnV0ZSkuZ2V0VGltZSgpO1xufSIsImltcG9ydCB7IGdldE1vbnRoQXJyYXkgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb250aFRhYmxlKHRpbWVzdGFtcCkge1xuICBjb25zdCB0b2RheSA9IFN0cmluZyhuZXcgRGF0ZSh0aW1lc3RhbXApLmdldERhdGUoKSk7XG4gIGNvbnN0IG1vbnRoID0gZ2V0TW9udGhBcnJheSh0aW1lc3RhbXApO1xuXG4gIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgZm9yICh2YXIgdyA9IDA7IHcgPCBtb250aC5sZW5ndGg7IHcrKykge1xuICAgIHZhciByb3cgPSB0YWJsZS5pbnNlcnRSb3codyk7XG4gICAgZm9yICh2YXIgZCA9IDA7IGQgPCBtb250aFt3XS5sZW5ndGg7IGQrKykge1xuICAgICAgdmFyIGNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgtMSk7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IG1vbnRoW3ddW2RdO1xuICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2FsaWduJywgJ2NlbnRlcicpO1xuXG4gICAgICBpZiAobW9udGhbd11bZF0gPT09IHRvZGF5KVxuICAgICAgICBjZWxsLmNsYXNzTmFtZSA9ICd0b2RheSc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhYmxlLm91dGVySFRNTDtcbn0iLCJpbXBvcnQgQ2FsZW5kYXIgZnJvbSAnLi9DYWxlbmRhcic7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxud2luZG93LkNhbGVuZGFyID0gQ2FsZW5kYXI7IiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRheS1ncmlkIC5ob3VyIHtcXG4gIGhlaWdodDogNDBweDtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTJlMmUyO1xcbn1cXG5cXG4udmlldy1kYXkge1xcbiAgcGFkZGluZy1sZWZ0OiA0MHB4O1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxufVxcblxcbi5jYWxlbmRhciAubWFpbiAudmlldy1kYXkgLmRheS1ncmlkIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4uZGF5LWV2ZW50cyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLmV2ZW50IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiA1MHB4O1xcbiAgYmFja2dyb3VuZDogIzkxYTdmZjtcXG4gIGNvbG9yOiB3aGl0ZTs7XFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmV2ZW50LWZvcm1fX3RpdGxlIHtcXG4gIGZvbnQtd2VpZ2h0OiAzMDA7XFxufVxcblxcbi5ldmVudC1mb3JtX19sYWJlbCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG1hcmdpbjogLjI1ZW0gMDtcXG59XFxuXFxuLmV2ZW50LWZvcm1fX25hbWUsIC5ldmVudC1mb3JtX19kYXRlLCAuZXZlbnQtZm9ybV9fdGltZSwgLmV2ZW50LWZvcm1fX2NvbW1lbnQge1xcbiAgcGFkZGluZzogLjVlbSAuNmVtO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDNweCAjZGRkO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIG1hcmdpbjogLjI1ZW0gMDtcXG59XFxuXFxuLmV2ZW50LWZvcm1fX25hbWUsIC5ldmVudC1mb3JtX19jb21tZW50IHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcblxcbi5ldmVudC1mb3JtX19jb21tZW50IHtcXG4gIHJlc2l6ZTogbm9uZTtcXG59XFxuXFxuLmV2ZW50LWZvcm1fX3N1Ym1pdCB7XFxuICBmbG9hdDogcmlnaHQ7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL0V2ZW50Rm9ybS5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vRGF5LmNzc1wiKSwgXCJcIik7XG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiKiB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5odG1sLCBib2R5IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgY29sb3I6ICMyZTJlMmU7XFxufVxcblxcbiNjYWxlbmRhciB7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5jYWxlbmRhciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLmNhbGVuZGFyIC50b3Age1xcbiAgaGVpZ2h0OiA0MHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgcGFkZGluZzogMCAxNXB4O1xcbn1cXG5cXG4uY2FsZW5kYXIgLnRvcCAubmF2aWdhdGlvbiwgLmNhbGVuZGFyIC50b3AgLnZpZXctY2hhbmdlIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4uY2FsZW5kYXIgLm1haW4ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICBmbGV4OiAxO1xcbn1cXG5cXG4uY2FsZW5kYXIgLm1haW4gLnNpZGViYXIge1xcbiAgd2lkdGg6IDMwMHB4O1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2VlZTtcXG59XFxuXFxuLmNhbGVuZGFyIC5zaWRlYmFyIHtcXG4gIHBhZGRpbmc6IDE1cHg7XFxufVxcblxcbi5jYWxlbmRhciAuc2lkZWJhciAjc2lkZWJhci1tb250aCB0YWJsZSB7XFxuICBtYXJnaW4tdG9wOiAzMHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcblxcbi5jYWxlbmRhciAuc2lkZWJhciAjc2lkZWJhci1tb250aCB0YWJsZSB0ciB7XFxuICBoZWlnaHQ6IDMwcHg7XFxufVxcblxcbi5jYWxlbmRhciAubWFpbiAudmlldyB7XFxuICBmbGV4OiAxO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIG92ZXJmbG93OiBzY3JvbGw7XFxufVxcblxcbi5jYWxlbmRhciAubWFpbiAudmlld3Mge1xcbiAgZmxleDogMTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLmxhYmVscyB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIGZvbnQtc2l6ZTogMTNweDtcXG4gIGNvbG9yOiAjY2NjO1xcbn1cXG5cXG4ubGFiZWxzIGxpIHtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBoZWlnaHQ6IDQwcHg7XFxufVxcblxcbi5jYWxlbmRhciAubWFpbiAudmlldy13ZWVrIHtcXG4gIHBhZGRpbmctbGVmdDogNDBweDtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbiAgZGlzcGxheTogZmxleDtcXG59XFxuXFxuLnZpZXctd2VlayAubGFiZWxzIHtcXG4gIHRvcDogNjBweDtcXG59XFxuXFxuLmNhbGVuZGFyIC5tYWluIC52aWV3LW1vbnRoIHtcXG4gIC8qIGRpc3BsYXk6IG5vbmU7ICovXFxufVxcblxcbi52aWV3LW1vbnRoIHRhYmxlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG59XFxuXFxuLnZpZXctbW9udGggdGgsIC52aWV3LW1vbnRoIHRkIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMmUyZTI7XFxufVxcblxcbi5jYWxlbmRhciAubWFpbiAudmlldy13ZWVrIC5kYXlzIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4OiAxO1xcbn1cXG5cXG4uY2FsZW5kYXIgLm1haW4gLnZpZXctd2VlayAuZGF5LWdyaWQge1xcbiAgd2lkdGg6IDE0LjI4NTcxMyU7XFxufVxcblxcbi5jYWxlbmRhciAubWFpbiAudmlldy13ZWVrIC5kYXktZ3JpZCAuaG91ciB7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZTJlMmUyO1xcbn1cXG5cXG4uY2FsZW5kYXIgLm1haW4gLnZpZXctd2VlayAuZGF5LWdyaWQ6bGFzdC1jaGlsZCAuaG91ciB7XFxuICBib3JkZXItcmlnaHQ6IG5vbmU7XFxufVxcblxcbi5kYXktbGFiZWwge1xcbiAgZm9udC13ZWlnaHQ6IDMwMDtcXG4gIGNvbG9yOiAjMjIyO1xcbiAgbWFyZ2luOiAwO1xcbiAgaGVpZ2h0OiA2MHB4O1xcbn1cXG5cXG4ubW9udGgtdGFibGUgdGQge1xcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcXG59XFxuXFxuLnNpZGViYXItbW9udGggdGQudG9kYXkge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgYmFja2dyb3VuZDogIzMzMztcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG59XFxuXFxuLnNpZGViYXItbW9udGggdGQge1xcbiAgd2lkdGg6IDM2cHg7XFxuICBoZWlnaHQ6IDM2cHg7XFxufVxcblxcbi5tb250aC10YWJsZSBwIHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgbWFyZ2luOiAwO1xcbn1cXG5cXG4uZGF0ZS1pbmZvIHtcXG4gIG1hcmdpbjogMDtcXG4gIGZvbnQtd2VpZ2h0OiAzMDA7XFxuICBsaW5lLWhlaWdodDogNDBweDtcXG59XFxuXFxuLm5ldy1ldmVudC1mb3JtIHtcXG4gIG1hcmdpbi10b3A6IDMwcHg7XFxufVxcblxcbi5mb3JtLWZpZWxkIHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iXSwic291cmNlUm9vdCI6IiJ9